{% extends "base.html" %} {% load static %} {% block content %}

<div class="d-flex flex-wrap px-5 py-3 align-items-center">
  <div class="col-6">
    <h1>Welcome to AmarCar</h1>
    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis, provident
      enim aspernatur ab quaerat recusandae odio aut est dolorem nostrum amet
      quasi libero nam? Culpa placeat, quia excepturi odit laborum eos est quas
      dolores dicta debitis harum, nostrum vel molestiae labore sint amet,
      aliquam illo quae iste itaque a beatae repellat quisquam exercitationem?
      Nemo reprehenderit commodi expedita, laudantium totam accusantium ea modi
      iure odio ut iste, molestias voluptatum facilis, laborum minima quis
      placeat amet dolorem similique voluptate. Aperiam dicta eveniet provident
      doloribus pariatur ipsum quod in necessitatibus fugit obcaecati eius,
      illo, earum deserunt non perferendis aliquid quibusdam alias corrupti
      laudantium.
    </p>
  </div>
  <div class="col-6">
    <img class="img-fluid" src="{% static 'header.jpg' %}" alt="img" />
  </div>
</div>
<div class="container-fluid min-vh-100">
  <div class="row min-vh-100">
    <div class="col-2 bg-white p-3">
      <h5>All Car Brands</h5>
      <input class="form-check-input" type="radio" name="brands" id="all" />
      <label class="form-check-label" for="all">
        <a href="{% url 'all_car' %}" class="text-decoration-none text-dark"
          >All</a
        >
      </label>
      {% for brand in brands %}
      <div class="form-check">
        <input
          class="form-check-input"
          type="radio"
          name="brands"
          id="{{brand.id}}"
        />
        <label class="form-check-label" for="{{brand.id}}">
          <a
            href="{% url 'brand_wise_car' brand.slug %}"
            class="text-decoration-none text-dark"
            >{{brand.name}}</a
          >
        </label>
      </div>
      {% endfor %}
    </div>

    <div class="col-10 p-3">
      <!-- Main Content -->
      <h4>{{data|length}} results found</h4>
      <div class="d-flex flex-wrap mt-4 justify-content-around">
        {% for car in data %}
        <div class="card mb-3" style="width: 20rem">
          <img
            class="card-img-top"
            style="height: 45%"
            src="{{ car.image.url }}"
            alt="Card image cap"
          />
          <div class="card-body">
            <h5 class="card-title">
              <a
                href="{% url 'detail_car' car.id %}"
                class="text-decoration-none text-dark"
                >{{ car.name }}</a
              >
            </h5>
            <p class="card-text">{{ car.description|truncatewords:10 }}</p>
            <p>Quantity: {{ car.quantity }}</p>
            <p>Price: {{ car.price }}</p>
            <p>Brands: {{ car.brand_name.name }}</p>
          </div>
          {% if user.is_authenticated %}
          <div
            class="card-footer btn-group d-flex justify-content-center"
            role="group"
            aria-label="Basic example"
          >
            {% if user.is_staff %}
            <a href="{% url 'edit_car' car.id %}" class="btn btn-primary"
              >Edit</a
            >
            <a href="{% url 'delete_car' car.id %}" class="btn btn-danger"
              >Delete</a
            >
            {% elif car.quantity == 0 %}
            <p class="btn btn-warning">Sold</p>
            {% else %} 
            <a href="{% url "buy_car" car.id %}" class="btn btn-success">Buy</a>
            {% endif %}
          </div>
          {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endblock content %}
